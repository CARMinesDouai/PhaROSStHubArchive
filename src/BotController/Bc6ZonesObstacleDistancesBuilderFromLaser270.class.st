"
I am the builder for a 6 zones obstacle distances world model, from echoes generated by a 270 laser range sensor.

During an update, I build a new world model. I make avaible when I finished iterating over all echoes.

I require the robot body understand the latestLaserScan message

"
Class {
	#name : #Bc6ZonesObstacleDistancesBuilderFromLaser270,
	#superclass : #Bc2ZonesObstacleDistancesBuilderFromLaser270,
	#category : #'BotController-WorldModel'
}

{ #category : #testing }
Bc6ZonesObstacleDistancesBuilderFromLaser270 >> isRearEcho: anEcho [
	^anEcho angle abs > 1.57 "Half Pi"
]

{ #category : #building }
Bc6ZonesObstacleDistancesBuilderFromLaser270 >> updateFromLeftEcho: anEcho [
	(self isFrontEcho: anEcho) ifTrue: [^super updateFromLeftEcho: anEcho].
	(self isRearEcho: anEcho) ifTrue: [^newDistances sideLeftRear: (self min: newDistances sideLeftRear sideEcho: anEcho)].
	newDistances sideLeftFront: (self min: newDistances sideLeftFront sideEcho: anEcho)
]

{ #category : #building }
Bc6ZonesObstacleDistancesBuilderFromLaser270 >> updateFromRightEcho: anEcho [
	(self isFrontEcho: anEcho) ifTrue: [^super updateFromRightEcho: anEcho].
	(self isRearEcho: anEcho) ifTrue: [^newDistances sideRightRear: (self min: newDistances sideRightRear sideEcho: anEcho)].
	newDistances sideRightFront: (self min: newDistances sideRightFront sideEcho: anEcho).
]

{ #category : #building }
Bc6ZonesObstacleDistancesBuilderFromLaser270 >> worldModelClass [
	^ Bc6ZonesObstacleDistances
]
